---
title: 文摘：OpenClaw + Claude Code 超强教程：一个人就能搭建完整的开发团队！
date: 2026-03-02 09:40:00
tags: [文摘, OpenClaw, Claude Code, AI, 教程]
categories: 文摘
---

**原文链接**：https://mp.weixin.qq.com/s/gtxM1f3JmfXqDuxGIa3-ng

## 核心亮点

一个独立开发者用 **OpenClaw + Codex/Claude Code** 搭建了一套 AI Agent 系统，实现了惊人的效果：

- **一天 94 次提交**，平均每天 50 次提交
- **30 分钟内完成 7 个 PR**
- **当天交付客户需求**，客户提需求当天就能看到效果
- 每月成本仅 $190（Claude $100 + Codex $90），新手起步 $20 就能跑起来

## 双层架构设计

### 为什么需要双层系统？

Codex 和 Claude Code 单独使用时的根本限制：**上下文窗口是固定的**，你必须二选一：
- 塞满代码 → 没空间放业务上下文
- 塞满客户历史 → 没空间放代码库

### OpenClaw 双层架构

| 层级 | 角色 | 职责 |
|------|------|------|
| **编排层 (OpenClaw)** | 主厨 | 持有业务上下文（客户数据、会议记录、历史决策），把业务需求翻译成精确 prompt |
| **执行层 (Agent)** | 专业厨师 | 专注写代码，只拿到"完成任务需要的最小上下文" |

**类比**：Codex/Claude Code = 专业厨师只管做菜；OpenClaw = 主厨知道客人口味、食材库存，给每个厨师下达精确指令。

## 完整工作流：从需求到上线的 8 个步骤

1. **客户需求 → OpenClaw 理解并拆解**
   - OpenClaw 读取 Obsidian 会议记录，自动理解客户背景
   - 零解释成本，因为已经知道客户是谁、业务场景、现有配置

2. **启动代理**
   - 创建独立 git worktree 和 tmux 会话
   - Agent 在后台运行，可随时通过 tmux 干预

3. **自动监控**
   - cron 每 10 分钟检查 Agent 状态
   - 检查客观事实：tmux 存活、PR 创建、CI 状态
   - 只在需要人工介入时通知

4. **Agent 创建 PR**

5. **自动化 Code Review**
   - **Codex Reviewer**：最靠谱，擅长发现边界情况
   - **Gemini Code Assist**：免费好用，发现安全和扩展性问题
   - **Claude Code Reviewer**：过度谨慎，除非标记 critical 否则跳过

6. **自动化测试**
   - Lint、TypeScript、单元测试、E2E、Playwright
   - **新规则**：UI 改动必须附截图，否则 CI 失败

7. **人工 Review**
   - CI 全绿 + 三个 AI 审查通过 + 截图展示
   - 作者 review 只需 **5-10 分钟**

8. **合并**
   - 从客户需求到代码上线，可能只用 **1-2 小时**
   - 作者实际投入可能只有 **10 分钟**

### 工作流可视化

下图展示了类似的 AI-Native 研发工作流（Issue-Driven + Claude Code + Worktree）：

![AI-Native 研发工作流](/images/ai-native-workflow.jpg)

这张图很好地概括了文章中描述的核心理念：从 Issue 创建到 Plan 阶段，再到 Agent Team 执行，最后自动 PR、测试与合并，形成完整的闭环。

## 三个让系统更聪明的机制

### 1. 改进版 Ralph Loop — 不只是重复，而是学习

普通实现的问题：每次循环用的 prompt 都一样。

**这套系统的改进**：
- 当 Agent 失败时，Zoe 带着完整业务上下文分析失败原因
- **重写 prompt**，而不是用同样的 prompt 重启
- 成功模式被记录："这种 prompt 结构对账单功能很有效"
- 奖励信号：CI 通过、三个 code review 通过、人工合并

**结果**：时间越长，Zoe 写的 prompt 越好，因为她记得什么能成功。

### 2. Agent 选择策略 — 不同任务找不同的专家

| Agent | 角色 | 适用场景 |
|-------|------|----------|
| **Codex (gpt-5.3-codex)** | 主力 | 后端逻辑、复杂 bug、多文件重构，占 90% 任务 |
| **Claude Code** | 速度型 | 前端工作、权限问题少的 git 操作 |
| **Gemini** | 设计师 | 有设计审美，先让 Gemini 生成 HTML/CSS 规范，再交给 Claude 实现 |

### 3. 瓶颈在哪？RAM

意外的限制：不是 token 成本，不是 API 速率，而是**内存**。

- 每个 Agent 需要：worktree + node_modules + 运行构建测试
- 5 个 Agent 同时跑 = 5 个并行 TypeScript 编译器 + 5 个测试运行器
- Mac Mini(16GB) 最多同时跑 4-5 个 Agent
- 作者买了 Mac Studio M4 Max(128GB, $3500)

## 核心洞察

### 上下文的专业化分工

不是换更强的模型，而是通过**上下文的专业化分工**解决问题：
- 编排层：理解业务、客户、历史决策
- 执行层：专注代码、测试、构建

### 递归自我改进

> "我们会看到大量一个人的百万美元公司从 2026 年开始出现。杠杆是巨大的，属于那些理解如何构建递归自我改进 AI 系统的人。"

这就是它的样子：
- 一个 AI 编排者作为你的延伸
- 把工作委派给专门的 Agent，处理不同的业务职能
- 工程、客户支持、运营、营销
- 每个 Agent 专注于它擅长的事
- 你保持专注和完全控制

### 下一代创业方式

> "下一代创业者不会雇 10 个人去做一个人加一套系统就能做的事。他们会这样构建——保持小规模，快速行动，每天发布。"

## 推荐理由 ⭐⭐⭐⭐⭐

这篇文章不是理论探讨，而是一个**真实的生产级案例**。作者展示了如何用 OpenClaw + Codex/Claude Code 搭建一个完整的 AI 开发团队，从架构设计到具体实现细节，从工作流到成本分析，毫无保留地分享。

最难得的是文章的**诚实和务实**：不仅讲成功的部分，也讲了 Claude Code Reviewer "基本没用"、内存瓶颈限制并发、以及真实的失败和迭代过程。

对于想要用 AI 提升开发效率的人来说，这是一篇**可以直接跟着做的实操指南**。把这篇文章复制给 OpenClaw，10 分钟就能搭起一套类似的系统。
